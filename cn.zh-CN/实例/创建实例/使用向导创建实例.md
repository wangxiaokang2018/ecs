# 使用向导创建实例 {#task_vwq_5g4_r2b .task}

本文介绍如何使用ECS管理控制台向导创建一个实例。

-   在创建ECS实例前，您已经完成准备工作。详情请参见[准备工作](../../../../cn.zh-CN/个人版快速入门/准备工作.md#)。
-   如果创建Linux实例时需要绑定SSH密钥对，需要在目标地域创建一个SSH密钥对。具体操作，请参见[创建 SSH 密钥对](../../../../cn.zh-CN/安全/SSH密钥对/使用SSH密钥对.md#)。
-   如果要设置自定义数据，需要准备实例自定义数据。详情请参见[生成实例自定义数据](cn.zh-CN/实例/管理实例/使用实例自定义数据/生成实例自定义数据.md#)。
-   如果要让实例扮演某个角色，需要创建实例RAM角色，并授予角色相应的权限。具体操作，请参见[授予实例RAM角色](../../../../cn.zh-CN/安全/实例RAM角色/授予实例RAM角色.md#)。

1.  前往[实例创建页](https://ecs-buy.aliyun.com/wizard/#/prepay/cn-beijing)。
2.  完成基础配置。 
    1.  选择**计费方式**：**包年包月**、**按量付费**或者**抢占式实例**。 

        **说明：** 

        -   如果要创建按周付费的实例，必须选择**包年包月**，并将页面底部的**购买时长**设置为**1周**。不同计费方式的区别，请参见[计费对比](../../../../cn.zh-CN/产品定价/计费对比.md#)。
        -   抢占式实例的创建方式，请参见[创建抢占式实例](../../../../cn.zh-CN/实例/选择实例购买方式/抢占式实例/创建抢占式实例.md#)。
    2.  选择地域和可用区。 

        系统默认随机分配可用区，您可以选择适用的可用区。如何选择地域和可用区，请参见[地域和可用区](../../../../cn.zh-CN/通用参考/地域和可用区.md#)。

        **说明：** 实例创建完成后，不可更改地域和可用区。

    3.  选择实例规格并设置实例数量。 

        可供选择的实例规格由您所选择的地域决定，您可以前往[ECS实例可购买地域](https://ecs-buy.aliyun.com/instanceTypes/#/instanceTypeByRegion)，查看实例的可购情况。不同实例规格适用的应用场景，请参见[实例规格族](../../../../cn.zh-CN/实例/实例规格族.md#)。

        **说明：** 

        -   每个账号有限定的按量付费实例或抢占式实例配额。以页面上显示的信息为准。
        -   如果您要创建抢占式实例，必须在这一步骤里设置单台实例规格的价格上限。
        -   如果您使用弹性网卡，企业级实例规格族必须选择不少于2 vCPU核的实例规格，入门级实例规格族必须选择不少于4 vCPU核的实例规格。各种实例规格支持的弹性网卡数量，请参见[实例规格族](../../../../cn.zh-CN/实例/实例规格族.md#)。
        -   如果您要使用SSD云盘作为存储设备，请选择I/O优化实例。
    4.  选择镜像。您可以选择**公共镜像**、**自定义镜像**、**共享镜像**或**从镜像市场选择镜像**。 

        **说明：** 

        -   如果您要使用SSH密钥对，必须选择Linux系统。
        -   如果您要设置实例自定义数据，只能选择特定的镜像，详细信息请参见[实例自定义数据](../../../../cn.zh-CN/实例/管理实例/使用实例自定义数据/生成实例自定义数据.md#)。
        -   公共镜像仅包括初始系统环境，更多镜像可以在镜像市场获取。
    5.  选择存储。 
        -   **系统盘**：必选项，用于安装操作系统。指定系统盘的云盘类型和容量：
            -   云盘类型：地域不同会影响可供选择的云盘类型。
            -   容量：系统盘默认容量为40 GiB。如果选择的镜像文件大于40 GiB，则默认为镜像文件大小。系统盘的容量范围由镜像决定，如下表所示。

                |镜像|系统盘容量范围（GiB）|
                |:-|:-----------|
                |Linux（不包括CoreOS）+ FreeBSD|\[max\{20, 镜像文件大小\}, 500\]|
                |CoreOS|\[max\{30, 镜像文件大小\}, 500\]|
                |Windows|\[max\{40, 镜像文件大小\}, 500\]|

        -   **数据盘**：可选项。如果在此时创建云盘作为数据盘，必须选择云盘类型、容量、数量，并设置是否加密。

            您也可以在实例创建后为实例添加新的数据盘。具体操作，请参见[创建按量付费云盘](cn.zh-CN/块存储/云盘/创建云盘/创建按量付费云盘.md#)和[创建包年包月云盘](../../../../cn.zh-CN/块存储/云盘/创建云盘/创建包年包月云盘.md#)。您可以创建空云盘，也可以使用快照创建云盘。最多可以添加16块云盘作数据盘。

            **说明：** 此时创建的云盘有以下特点：

            -   计费方式与实例相同。
            -   包年包月数据盘只能随实例一起释放，按量付费的数据盘可以设置为随实例一起释放。
        -   如果您选择的是带本地盘的实例规格族（例如i1、d1、d1ne等），这里会显示实例规格对应的本地盘信息，不可配置。各种本地盘实例规格对应的本地盘信息，请参见[实例规格族](../../../../cn.zh-CN/实例/实例规格族.md#)。
3.  单击**下一步：网络和安全组**，完成网络和安全组设置。 
    1.  选择网络类型。 
        -   **专有网络**：必须选择专有网络和交换机。如果您没有创建专有网络和交换机，可以选择默认专有网络和默认交换机。
        -   **经典网络**：如果您是在2017年6月14日17:00（UTC+8）以后第一次购买ECS实例，不能再选择经典网络。
    2.  设置公网带宽。 
        -   如果需要为实例分配一个公网IP地址，必须选中**分配公网IPv4地址**，选择**按使用流量**或**按固定带宽**计费公网带宽，并指定带宽。通过这种方式分配的公网IP地址不能与实例解绑。关于如何选择公网带宽计费方式，请参见[公网带宽计费](../../../../cn.zh-CN/产品定价/公网带宽计费.md#) 。
        -   如果您的实例不需要访问公网或者您的VPC类型ECS实例使用弹性公网IP（EIP）地址访问公网，您不需要分配公网IP地址。EIP地址随时能与实例解绑。
    3.  选择安全组。 如果您自己没有创建安全组，可以使用默认安全组。默认安全组的规则，请参见[安全组概述](../../../../cn.zh-CN/安全/安全组/安全组概述.md#)。
    4.  添加弹性网卡。 如果所选实例规格支持弹性网卡，可以添加弹性网卡，并为网卡选择交换机。

        **说明：** 这里添加的弹性网卡默认会随实例一起释放，您可以在[ECS控制台](../../../../cn.zh-CN/网络/弹性网卡/解绑弹性网卡.md#)或者使用DetachNetworkInterface接口分离实例和网卡。

4.  单击**下一步：系统配置**，完成系统配置项。 
    1.  选择并设置登录凭证。 根据镜像选择不同的登录凭证：

        -   Linux系统：可以选择使用密钥对或密码作为登录凭证。
        -   Windows系统：只能使用密码作为登录凭证。
        您也可以在创建实例后再设置登录凭证，具体步骤请参见[重置实例密码](../../../../cn.zh-CN/实例/管理实例/重置实例登录密码.md#)。

    2.  设置实例名称以及显示在操作系统内部的计算机名。
    3.  设置高级选项。 
        -   实例RAM角色：为实例授予一个RAM角色。
        -   实例自定义数据：自定义实例启动行为或向实例传入数据。
5.  单击**下一步：分组设置**，完成实例分组管理。 
    1.  添加标签。 持有多台实例时，使用标签功能管理实例更加方便。更多详情，请参见[标签概述](../../../../cn.zh-CN/标签与资源/标签/标签概述.md#)。
    2.  选择资源组。 资源组功能面向企业用户，可以实现企业内部多用户、多项目的资源分级管理。更多详情，请参见[资源组](../../../../cn.zh-CN/标签与资源/资源组.md#)。
    3.  选择部署集。 部署集是实例分布的控制策略，可以将部署集内的实例分散部署在不同的物理服务器上，保证业务的高可用性和底层容灾能力。更多详情，请参见[创建部署集](../../../../cn.zh-CN/部署与弹性/部署集/创建部署集.md#)。
    4.  选择专有宿主机。 您可以选择**自动部署/AutoPlacement**或者指定一台专有宿主机。

        专有宿主机功能可以让您独享一台云主机的物理资源，同时兼具灵活性和弹性。更多详情，请参见[专有宿主机功能特性](../../../../cn.zh-CN/产品简介/功能特性.md#)。

6.  确认订单。 
    1.  在**所选配置**部分，确认配置信息。您可以单击编辑图标重新编辑配置。 
        -   （可选）单击**保存为启动模板**可以将此次选型配置记录成启动模板，方便后续引用。更多详情，请参见[实例启动模板](../../../../cn.zh-CN/部署与弹性/实例启动模板/实例启动模板概述.md#)。
        -   （可选）单击**生成Open API最佳实践脚本**可以获取创建实例时的 API 最佳实践列表。左侧**API 工作流**罗列出您对应操作下的能使用关联 API 以及请求参数的值。右侧提供面向编程语言的 SDK 示例，目前支持**Java**和**Python**示例。更多详情，请参见[ECS API简介](../../../../cn.zh-CN/API参考/简介.md#)。
    2.  如果计费方式为**按量付费**，可以**设置自动释放服务时间**。
    3.  如果计费方式为**包年包月**，可以设置购买时长，并选择是否开启**自动续费**。
    4.  确认配置费用。 实例和公网带宽的计费方式决定了显示的费用信息，如下表所示。
    
    测试侧嗯嗯

        |实例计费方式|公网带宽计费方式|费用估算|
        |:-----|:-------|:---|
        |按量付费或抢占式实例|按使用流量|公网流量费用 + 配置费用。其中，配置费用包括：实例规格（CPU 和内存的配置）、系统盘、数据盘（如果有）和本地盘（如果有）的费用。|
        |按固定带宽|配置费用，包括：实例规格（CPU和内存的配置）、系统盘、数据盘（如果有）、本地盘（如果有）和公网带宽的费用。|
        |包年包月|按固定带宽|配置费用，包括：实例规格（CPU和内存的配置）、系统盘、数据盘（如果有）、本地盘（如果有）和公网带宽的费用。|
        |按使用流量|公网流量费用 + 配置费用。其中，配置费用包括：实例规格（CPU和内存的配置）、系统盘、数据盘（如果有）和本地盘（如果有）的费用。|

    5.  阅读并确认**云服务器ECS服务条款**。
7.  单击**创建实例**。

实例开通后，单击**管理控制台**回到ECS管理控制台查看新建的ECS实例。在相应地域的**实例列表**里，您能查看新建实例的实例名称、公网IP地址、内网IP地址或私网IP等信息。

-   您可以通过FTP服务上传本地文件到ECS实例。关于部署FTP服务的详细操作，请参见[使用ECS实例创建FTP站点](https://help.aliyun.com/document_detail/51998.html)。
-   创建实例后，建议您对操作系统做安全合规性检查和加固：
    -   Linux实例，请参见 *安全公告和技术* 手册中的[Linux操作系统加固](https://help.aliyun.com/document_detail/49809.html)。
    -   Windows实例，请参见 *安全公告和技术* 手册中的[Windows操作系统安全加固](https://help.aliyun.com/document_detail/49781.html)。
-   如果您随实例创建了数据盘，只有分区格式化后您才能正常使用数据盘，具体操作，请参见[Windows格式化数据盘](../../../../cn.zh-CN/个人版快速入门/格式化数据盘/Windows格式化数据盘.md#)或[Linux格式化数据盘](../../../../cn.zh-CN/个人版快速入门/格式化数据盘/Linux格式化数据盘.md#)。

